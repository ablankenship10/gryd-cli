var common = require('../services/common');

module.exports = function(db){
  var schema = db.Schema({
    id:{type:String,default:function(){
      return common.randKey();
    }},
    name: {type:String,required:true},
    value: {type:String,required:true}
  });

  schema.statics.multi = function(models){
    var out = [];
    for(var i in models){
      var model = models[i];
      out.push({
        id:model.id,
        name:model.name,
        value:model.value
      });
    }
    return out;
  };

  schema.statics.single = function(model){
    var out = {
      id:model.id,
      name:model.name,
      value:model.value
    };
    return out;
  };

  schema.set('versionKey',false);
  schema.set('id',false);
  db.model("<%=model %>",schema);
};